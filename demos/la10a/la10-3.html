<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
  <!-- typed.js loads other JS scripts for blockly dynamically.
      Those files are different depending on whether the DEVMODE is
      enabled. You can change the DEVMODE in typed.js. -->
  <script type="text/javascript" src="typed.js"></script>
</head>
<body>
  <div id="workspaceArea">
    <div id="blocklyDiv"></div>
  </div>
  <div id="rightArea">
    <!--h1 class="titleHeader">テキスト-ブロック変換</h1-->
    <div class="content">
      <div class="blockToCode">
        <input type="hidden" class="generatedCode"></input>
        <div class="box">
          <span>ファイル名：<input type="text" id="filename" size="12" value="game">.ml</span><br>
          <button class="btn" id="download" onclick="Typed.saveCode()">
          保存</button>
        </div>
        <div class="box">
          <input id="upload-file" type="file" accept=".ml" /><br>
          <button class="btn" onclick="Typed.loadCode()">読み込み</button>
        </div>
        <button class="btn" onclick="Typed.newToplevel()">実行</button>
      </div>
      <canvas id="CanvasForUniverse"></canvas>
      <div id="toplevel"></div>
      la10-3-1.ml or la10-3-1.mlを読み込もう！<br/>
      List.mapというのは引数に関数fとリスト[a1; a2; ...an]をもらってきたとき、関数fをa1; a2; ....anの順に適用するものです<br/>
      マリオ達の座標のリストに20を足すような関数[xplus]を定義してみましょう。<br/>
      この関数は引数にマリオの座標のリストの中から要素を一つもらってきて、その要素のx座標に20を足す関数です<br/>
      定義した[xplus]を[List.map]ブロックの最初に入れてみましょう！（スコープお砂場に[xplus]を出し、そのブロックを左クリック。穴を削除を選択するとブロックを入れることができます。）
    </div>
  </div>
  <div class="clear"></div>

  <xml id="toolbox" style="display: none">
    <category name="四則演算" colour="%{BKY_INT_HUE}">
      <block type="int_typed"></block>
      <block type="int_arithmetic_typed"></block>
      <block type="int_abs_typed"></block>
      <block type="random_int_typed"></block>
    </category>
    <category name="論理演算と条件文" colour="%{BKY_LOGIC_HUE}">
      <block type="logic_compare_typed"></block>
      <block type="logic_operator_typed"></block>
      <block type="not_operator_typed"></block>
      <block type="logic_ternary_typed"></block>
      <block type="logic_boolean_typed"></block>
    </category>
    <category name="リスト" colour="%{BKY_LISTS_HUE}">
      <block type="lists_create_with_typed"></block>
      <block type="list_map_typed"></block>
      <block type="andmap_typed"></block>
      <block type="sum_typed"></block>
    </category>
    <category name="一般の変数と関数" colour="%{BKY_VARIABLES_HUE}">
      <block type="letstatement_fun_pattern_typed"></block>
      <block type="letstatement_fun_pattern_typed">
        <field name="VAR" isvalue="true" variable-type="variable">f</field>
        <mutation items=1></mutation>
      </block>
    </category>
  </xml>
</body>
</html>
